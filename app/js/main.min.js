"use strict";

$((function() {
    $(document).ready((function() {
        if ($(".hero").length) {
            $(".page").removeClass("__inner-page");
        } else {
            $(".page").addClass("__inner-page");
        }
    }));
    $(".js-open-menu").on("click", (function() {
        $(".menu").addClass("__show");
        $("body").addClass("fixedPosition");
    }));
    $(".js-close-menu").on("click", (function() {
        $(".menu").removeClass("__show");
        $("body").removeClass("fixedPosition");
    }));
    $(".js-drop-down-search").on("click", (function() {
        $(this).toggleClass("__active");
        $(".drop-down-search").toggleClass("__active");
    }));
    $(window).scroll((function() {
        if ($(this).scrollTop() > 0) {
            $(".header").addClass("__scroll");
        } else {
            $(".header").removeClass("__scroll");
        }
    }));
    $(document).ready((function() {
        if ($(this).scrollTop() > 0) {
            $(".header").addClass("__scroll");
        } else {
            $(".header").removeClass("__scroll");
        }
    }));
    function backToTop() {
        var _this = this;
        var button = $(".to-top");
        $(window).on("scroll", (function() {
            if ($(this).scrollTop() > 800) {
                button.fadeIn();
            } else {
                button.fadeOut();
            }
        }));
        button.on("click", (function(e) {
            e.preventDefault();
            $("html").animate({
                scrollTop: 0
            }, 500);
        }));
    }
    backToTop();
    $(".js-catalog-img").hover((function() {
        $(this).addClass("__active").siblings().removeClass("__active").closest(".drop-down-catalog").find(".drop-down-catalog__img").addClass("__active").eq($(this).index()).addClass("__active").closest(".drop-down-catalog").find(".drop-down-catalog__img").removeClass("__active").eq($(this).index()).addClass("__active");
    }));
    $(".js-open-tab").on("click", (function() {
        $(this).addClass("active").siblings().removeClass("active").closest(".tab").find(".tab__content").removeClass("active").eq($(this).index()).addClass("active");
    }));
    if (document.documentElement.clientWidth > 991) {
        $(".thumb-item").brazzersCarousel();
    }
}));

$(document).ready((function() {
    if ($(".masonry-container").length) {
        var $grid = $(".masonry-container").masonry({
            itemSelector: ".masonry-item"
        });
        $grid.imagesLoaded().progress((function() {
            $grid.masonry("layout");
        }));
        Fancybox.bind("[data-fancybox]", {});
    }
}));

$(document).ready((function() {
    if ($(".js-mask-phone").length) {
        $(".js-mask-phone").mask("+7 (X99) 999-9999", {
            translation: {
                X: {
                    pattern: /9/,
                    optional: false
                }
            }
        });
    }
}));

var swiper = new Swiper(".slider-one", {
    slidesPerView: 1,
    spaceBetween: 16,
    loop: false,
    navigation: {
        nextEl: ".slider-one__next",
        prevEl: ".slider-one__prev"
    },
    pagination: {
        el: ".slider-one__pagination",
        dynamicBullets: false
    }
});

var swiper = new Swiper(".slider-three", {
    slidesPerView: 1,
    spaceBetween: 16,
    loop: false,
    navigation: {
        nextEl: ".slider-three__next",
        prevEl: ".slider-three__prev"
    },
    pagination: {
        el: ".slider-three__pagination",
        dynamicBullets: true
    },
    breakpoints: {
        760: {
            slidesPerView: 2,
            spaceBetween: 16
        },
        1200: {
            slidesPerView: 3,
            spaceBetween: 24
        }
    }
});

var swiper = new Swiper(".slider-four", {
    slidesPerView: 2,
    spaceBetween: 8,
    loop: false,
    navigation: {
        nextEl: ".slider-four__next",
        prevEl: ".slider-four__prev"
    },
    pagination: {
        el: ".slider-four__pagination",
        dynamicBullets: true
    },
    breakpoints: {
        576: {
            slidesPerView: 2,
            spaceBetween: 15
        },
        860: {
            slidesPerView: 3,
            spaceBetween: 15
        },
        1200: {
            slidesPerView: 4,
            spaceBetween: 16
        },
        1400: {
            slidesPerView: 4,
            spaceBetween: 24
        }
    }
});

$(document).ready((function() {
    if ($(".accordion").length) {
        document.querySelectorAll(".accordion").forEach(((item, index) => {
            item.id = "accordion" + (index + 1);
            new ItcAccordion("#" + item.id, {
                alwaysOpen: true
            });
        }));
    }
}));

$(document).ready((function() {
    $(".js-anchor").on("click", (function(e) {
        var anchor = $(this);
        $("html, body").stop().animate({
            scrollTop: $(anchor.attr("href")).offset().top - 80
        }, 500);
        e.preventDefault();
        return false;
    }));
}));

var line_r_swiper = new Swiper(".running-line-r", {
    centeredSlides: true,
    slidesPerView: "auto",
    spaceBetween: 8,
    simulateTouch: false,
    loop: true,
    speed: 1e4,
    autoplay: {
        delay: 0,
        reverseDirection: false,
        disableOnInteraction: false
    },
    breakpoints: {
        576: {
            spaceBetween: 16
        }
    }
});

var line_swiper = new Swiper(".running-line-l", {
    centeredSlides: true,
    slidesPerView: "auto",
    spaceBetween: 8,
    simulateTouch: false,
    loop: true,
    speed: 1e4,
    autoplay: {
        delay: 0,
        reverseDirection: true,
        disableOnInteraction: false
    },
    breakpoints: {
        576: {
            spaceBetween: 16
        }
    }
});

var video = document.getElementById("aboutVideo");

var soundBtn = document.getElementById("aboutVideoBtn");

$(soundBtn).on("click", (function() {
    if (video.muted) {
        video.muted = false;
        $(this).addClass("__on");
    } else {
        video.muted = true;
        $(this).removeClass("__on");
    }
}));

var swiperThumbs = new Swiper(".slider-thumbs", {
    spaceBetween: 8,
    slidesPerView: "auto",
    freeMode: true,
    watchSlidesProgress: true,
    mousewheel: true,
    direction: "vertical"
});

var swiperPhoto = new Swiper(".slider-product", {
    spaceBetween: 10,
    thumbs: {
        swiper: swiperThumbs
    },
    pagination: {
        el: ".slider-product__pagination"
    },
    navigation: {
        nextEl: ".slider-product__next",
        prevEl: ".slider-product__prev"
    }
});

var slinky = $(".js-menu-mobile").slinky({
    title: true
});

var wow = new WOW({
    boxClass: "wow",
    animateClass: "animated",
    offset: 100,
    mobile: true,
    live: true,
    callback: function(box) {},
    scrollContainer: null,
    resetAnimation: true
});

wow.init();